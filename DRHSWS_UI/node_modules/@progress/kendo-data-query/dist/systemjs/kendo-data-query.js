System.register("@progress/kendo-data-query",["tslib"],function(v){var r;return{setters:[function(e){var t;r=(t=e).__useDefault?t.default:t}],execute:function(){!function(r){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.m=r,i.c=n,i.p="",i(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.isCompositeFilterDescriptor=n.isCompositeFilterDescriptor;var i=r(3);t.toODataString=i.toODataString;var u=r(7);t.toDataSourceRequestString=u.toDataSourceRequestString,t.toDataSourceRequest=u.toDataSourceRequest;var o=r(10);t.translateDataSourceResultGroups=o.translateDataSourceResultGroups,t.translateAggregateResults=o.translateAggregateResults;var a=r(11);t.orderBy=a.orderBy,t.process=a.process,t.distinct=a.distinct;var s=r(9);t.getter=s.getter;var c=r(16);t.filterBy=c.filterBy,t.compileFilter=c.compileFilter;var f=r(13);t.groupBy=f.groupBy;var l=r(12);t.composeSortDescriptors=l.composeSortDescriptors;var g=r(17);t.normalizeFilters=g.normalizeFilters;var p=r(13);t.normalizeGroups=p.normalizeGroups;var d=r(15);t.aggregateBy=d.aggregateBy,function(e){for(var t in e)v(t,e[t])}(t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.isCompositeFilterDescriptor=function(e){return n.isPresent(e.filters)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPresent=function(e){return null!=e},t.isBlank=function(e){return null==e},t.isArray=function(e){return Array.isArray(e)},t.isFunction=function(e){return"function"==typeof e},t.isString=function(e){return"string"==typeof e},t.isTruthy=function(e){return!!e},t.isNullOrEmptyString=function(e){return t.isBlank(e)||0===e.trim().length},t.isNotNullOrEmptyString=function(e){return!t.isNullOrEmptyString(e)},t.isNumeric=function(e){return!isNaN(e-parseFloat(e))},t.isDate=function(e){return e&&e.getTime}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=r(4),n=r(5),i=n.constant(""),s=function(e,t){return n.either(o.isPresent,(r=e[0],function(e){return r+e}),i)(t);var r},u=function(e,t){return{filter:a.serializeFilter(t.filter||{}),skip:(i=["$skip=",""],i.raw=["$skip=",""],s(i,t.skip)),sort:(r=t.sort||[],n=r.filter(function(e){return o.isPresent(e.dir)}).map(function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir?t+" desc":t}).join(","),n?"$orderby="+n:n),take:(u=["$top=",""],u.raw=["$top=",""],s(u,t.take))}[e];var r,n,i,u};t.toODataString=function(t){return Object.keys(t).map(function(e){return u(e,t)}).filter(o.isNotNullOrEmptyString).join("&")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(5),u=r(6),o=function(n){return function(e){var t=e.field,r=e.value;return t+" "+n+" "+r}},a=function(e){return i.compose(e,u.encodeValue,u.quote,u.toLower,u.normalizeField)},s=function(e){return a((n=e,function(e){var t=e.field,r=e.value;return n+"("+t+","+r+")"}));var n},c=function(e){return i.either(u.isDateValue,(r=e,i.compose(o(r),u.normalizeField,u.formatDate)),(t=e,i.compose(o(t),u.normalizeField)));var t,r},f=function(e){return i.either(u.isStringValue,a(o(e)),c(e))},l=function(e){return i.compose(e,u.normalizeField)},g={contains:s("contains"),doesnotcontain:i.compose(function(e){return e+" eq -1"},s("indexof")),endswith:s("endswith"),eq:f("eq"),gt:f("gt"),gte:f("ge"),isempty:l(function(e){return e.field+" eq ''"}),isnotempty:l(function(e){return e.field+" ne ''"}),isnotnull:l(function(e){return e.field+" ne null"}),isnull:l(function(e){return e.field+" eq null"}),lt:f("lt"),lte:f("le"),neq:f("ne"),startswith:s("startswith")},p=function(e){return g[e.operator](e)},d=u.serializeFilters(function(e){return i.either(n.isCompositeFilterDescriptor,d,p)(e)},function(e){return" "+e.logic+" "});t.serializeFilter=function(e){return e.filters&&e.filters.length?"$filter="+d(e):""}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.either=function(t,r,n){return function(e){return t(e)?r(e):n(e)}},t.compose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},t.constant=function(e){return function(){return e}},t.identity=function(e){return e}},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t(2);o.wrapIf=function(n){return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n()?""+e[0]+t[0]+e[1]:t[0]}},o.toUTC=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},o.quote=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:"'"+r.replace(/'/g,"''")+"'",field:t,ignoreCase:n,operator:i}},o.encodeValue=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:""+encodeURIComponent(r),field:t,ignoreCase:n,operator:i}},o.formatDate=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:JSON.stringify(o.toUTC(r)).replace(/"/g,""),field:t,ignoreCase:n,operator:i}},o.toLower=function(e){var t,r=e.field,n=e.value,i=e.ignoreCase,u=e.operator;return{field:(t=["tolower(",")"],t.raw=["tolower(",")"],o.wrapIf(function(){return i})(t,r)),value:n,ignoreCase:i,operator:u}},o.normalizeField=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:r,field:t.replace(/\./g,"/"),ignoreCase:n,operator:i}},o.isStringValue=function(e){return r.isString(e.value)},o.isDateValue=function(e){return r.isDate(e.value)},o.serializeFilters=function(n,i){return function(e){var t,r=o.wrapIf(function(){return 1<e.filters.length});return(t=["(",")"]).raw=["(",")"],r(t,e.filters.map(n).join(i(e)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,u=r(8),o=r(1),a=r(2),s=r(9),c=r(5),f=r(6),l=function(t){return function(e){return[t,e]}},g=function(){return null},p=function(t){return function(e){return a.isPresent(t(e))}},d=function(r){return function(e){return t=r(e),a.isPresent(t)&&a.isArray(t)&&0<t.length;var t}},v=function(e,t){return c.either(e,t,g)},m=function(t,r){return function(e){return t(e).map(r).join("~")}},y=(n=[['"',""],[":","-"]],c.compose.apply(void 0,n.map(function(e){var t=e[0],r=e[1];return function(e){return e.replace(new RegExp(t,"g"),r)}}))),h=(i=".",function(e){return e.slice(0,e.indexOf(i))}),_=function(e){var t=e.field,r=e.dir;return t+"-"+(void 0===r?"asc":r)},b=s.getter("take"),O=s.getter("aggregates"),P=s.getter("skip"),D=s.getter("group"),C=s.getter("sort",!0),S=m(C,_),q=m(D,_),F=m(O,function(e){return e.field+"-"+e.aggregate}),k=c.compose(function(e){return"datetime'"+e+"'"},h,y,JSON.stringify,f.toUTC),j=c.compose(l("page"),function(e){var t=e.skip,r=e.take;return Math.floor((t||0)/r)+1}),w=c.compose(l("pageSize"),b),N=c.compose(l("group"),q),x=c.compose(l("sort"),S),M=c.compose(l("aggregate"),F),B=v(p(P),j),z=v(p(b),w),R=v(d(D),N),T=v(p(O),M),I=c.compose(v(d(C),x),function(e){return Object.assign({},e,{sort:(C(e)||[]).filter(function(e){var t=e.dir;return a.isNotNullOrEmptyString(t)})})}),A=function(e){var t=e.field;return a.isNotNullOrEmptyString(t)},E=function(e){return e.field+"~"+e.operator+"~"+e.value},V=c.either(f.isDateValue,c.compose(E,function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:k(r),field:t,ignoreCase:n,operator:i}}),E),G=function(e){return"~"+e.logic+"~"},L=function(r){return f.serializeFilters(function(e){return c.either(o.isCompositeFilterDescriptor,L(r),(t=r,v(A,c.either(f.isStringValue,c.compose(E,f.quote,t?f.encodeValue:c.identity),V))))(e);var t},G)},$=function(t,r){return void 0===r&&(r=!0),function(e){return{aggregates:T(t),filter:function(e,t){var r=e.filter;if(r&&r.filters){var n=L(t)(r);if(n.length)return["filter",n]}return null}(t,r),group:R(t),skip:B(t),sort:I(t),take:z(t)}[e]}};t.toDataSourceRequestString=function(e){return(t=Object.keys(e).map($(e)).filter(a.isPresent),t.reduce(function(e,t){var r=t[0],n=t[1];return e.concat([r+"="+n])},[])).join("&");var t},t.toDataSourceRequest=function(e){return Object.keys(e).map($(e,!1)).filter(a.isPresent).reduce(function(e,t){var r,n=t[0],i=t[1];return u.__assign({},e,((r={})[n]=i,r))},{})}},function(e,t){e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),o={},a=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;o[void 0]=function(e){return e},t.getter=function(e,n){var t=e+n;if(o[t])return o[t];var i=[];return e.replace(a,function(e,t,r,n){i.push(u.isPresent(t)?t:r||n)}),o[t]=function(e){for(var t=e,r=0;r<i.length;r++)if(t=t[i[r]],!u.isPresent(t)&&n)return t;return t},o[t]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),n=r(5),u=function(e,t,r){return t[e]=r,t},o=function(n){return function(e){var t,r=e[n];return i.isPresent(r)?r:e[(t=n,t.replace(/(^[A-Z])/g,function(e,t){return t.toLowerCase()}))]}},a=o("Member"),s=o("AggregateMethodName"),c=o("Value"),f=function(t){return function(e){return Object.keys(e).reduce(t.bind(null,e),{})}},l=f(function(e,t,r){return u(r.toLowerCase(),t,e[r])}),g=f(function(e,t,r){return u(r,t,l(e[r]))}),p=function(e,t){return i.isPresent(e)?e:t},d=n.compose(function(e){var t=e.field,r=e.hasSubgroups,n=e.value,i=e.aggregates,u=e.items;return{aggregates:g(i),field:t,items:r?u.map(d):u,value:n}},function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:p(e.Key,p(e.key,e.value))}});t.translateDataSourceResultGroups=function(e){return e.map(d)},t.translateAggregateResults=function(e){return(e||[]).reduce(function(e,t){return u(a(t),e,u(s(t).toLowerCase(),e[a(t)]||{},c(t)))},{})}},function(e,d,t){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var v=t(2),n=t(12),m=t(13),y=t(17),h=t(16),_=t(14),i=t(9),b=t(5),u=t(19);d.orderBy=function(e,t){if(t.some(function(e){return v.isPresent(e.dir)})){e=e.slice(0);var r=n.composeSortDescriptors(t);u.sort(e,0,e.length,r)}return e};var o=function(e,t){return e===t};d.distinct=function(e,t){return void 0===t&&(t=o),r=e,n=function(e){if(v.isString(e)){var r=i.getter(e);e=function(e,t){return r(e)===r(t)}}return e}(t),r.filter(function(e,t,r){return r.findIndex(n.bind(null,e))===t});var r,n},d.count=function(e,t){for(var r=0,n=0,i=e.length;n<i;n++)t(e[n])&&r++;return r},d.limit=function(e,t){return t?e.filter(t):e},d.process=function(e,t){var r=t.skip,n=t.take,i=t.filter,u=t.sort,o=t.group,a=m.normalizeGroups(o||[]).concat(u||[]);a.length&&(e=d.orderBy(e,a));var s,c=v.isPresent(i)&&_.filter.length,f=v.isPresent(o)&&o.length;if(!c&&!f)return{data:n?e.slice(r,r+n):e,total:e.length};var l,g=[];if(c?(l=h.compileFilter(y.normalizeFilters(i)),s=d.count(e,l),g.push(_.filter(l))):s=e.length,v.isPresent(r)&&v.isPresent(n)&&(g.push(_.skip(r)),g.push(_.take(n))),g.length){var p=b.compose.apply(void 0,g);return{data:f?m.groupBy(e,o,p,d.limit(e,l)):_.exec(p(_.concat),[],e),total:s}}return{data:f?m.groupBy(e,o):e,total:s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(9),u=function(e,t){return n.isBlank(e)?e===t?0:-1:n.isBlank(t)?1:e.localeCompare?e.localeCompare(t):t<e?1:e<t?-1:0},o=function(r){var n=i.getter(r.field,!0);return function(e,t){return("asc"===r.dir?u:function(e,t){return u(t,e)})(n(e),n(t))}},a=function(e,t){return 0};t.composeSortDescriptors=function(e){return e.filter(function(e){return n.isPresent(e.dir)}).map(function(e){return o(e)}).reduce(function(r,n){return function(e,t){return r(e,t)||n(e,t)}},a)}},function(e,f,t){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var r=t(14),l=t(2),g=t(15),p=t(16);f.normalizeGroups=function(e){return(e=l.isArray(e)?e:[e]).map(function(e){return Object.assign({dir:"asc"},e)})};var d=r.map(function(e){return e});f.groupBy=function(e,u,t,o){if(void 0===u&&(u=[]),void 0===t&&(t=d),void 0===o&&(o=e),!(u=f.normalizeGroups(u)).length)return e;var a=u[0],s=r.exec(t(r.groupCombinator(a.field)),{},e),c=[];return Object.keys(s).forEach(function(i){Object.keys(s[i]).forEach(function(e){var t=s[i][e],r={},n=o;l.isPresent(a.aggregates)&&(n=p.filterBy(o,{field:a.field,ignoreCase:!1,operator:"eq",value:t.value}),r=g.aggregateBy(n,a.aggregates)),c[t.__position]={aggregates:r,field:i,items:1<u.length?f.groupBy(t.items,u.slice(1),d,n):t.items,value:t.value}})}),c}},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=t(2),r=t(9);o.groupCombinator=function(o){var a=r.getter(o,!0),s=0;return function(e,t){e[o]=e[o]||{};var r,n=a(t),i=(r=n,(r=c.isPresent(r)&&r.getTime?r.getTime():r)+""),u=e[o][i]||{__position:s++,aggregates:{},items:[],value:n};return u.items.push(t),e[o][i]=u,e}},o.expandAggregates=function(r){return void 0===r&&(r={}),Object.keys(r).forEach(function(e){var t=r[e];Object.keys(t).forEach(function(e){t[e]=t[e].result()})}),r};o.aggregatesCombinator=function(e){var t=e.map(function(i){var u=r.getter(i.field,!0),o=(i.aggregate||"").toLowerCase(),a=r.getter(o,!0);return function(e,t){var r=e[i.field]||{},n=a(r)||{average:function(){var t=0,r=0;return{calc:function(e){c.isNumeric(e)?(t+=e,r++):t=e},result:function(){return c.isNumeric(t)?t/r:t}}},count:function(){var e=0;return{calc:function(){return e++},result:function(){return e}}},max:function(){var t=Number.NEGATIVE_INFINITY;return{calc:function(e){(t=c.isNumeric(t)||c.isDate(t)?t:e)<e&&(c.isNumeric(e)||c.isDate(e))&&(t=e)},result:function(){return t}}},min:function(){var t=Number.POSITIVE_INFINITY;return{calc:function(e){e<(t=c.isNumeric(t)||c.isDate(t)?t:e)&&(c.isNumeric(e)||c.isDate(e))&&(t=e)},result:function(){return t}}},sum:function(){var t=0;return{calc:function(e){return t+=e},result:function(){return t}}}}[o]();return n.calc(u(t)),r[i.aggregate]=n,e[i.field]=r,e}});return function(e,r){return t.reduce(function(e,t){return t(e,r)},e)}},o.concat=function(e,t){return e.push(t),e},o.map=function(i){return function(n){return function(e,t,r){return n(e,i(t,r))}}},o.filter=function(n){return function(r){return function(e,t){return n(t)?r(e,t):e}}},o.isTransformerResult=function(e){return c.isPresent(e.__value)};var i=function(e){return o.isTransformerResult(e)?e:{__value:e,reduced:!0}};o.take=function(n){return function(r){return function(e,t){return 0<n--?r(e,t):i(e)}}},o.takeWhile=function(n){return function(r){return function(e,t){return n(t)?r(e,t):i(e)}}},o.skip=function(n){return function(r){return function(e,t){return n--<=0?r(e,t):e}}},o.exec=function(e,t,r){for(var n=t,i=0,u=r.length;i<u;i++)if(n=e(n,r[i],i),o.isTransformerResult(n)){n=n.__value;break}return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=r(14),o=u.map(function(e){return e});t.aggregateBy=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=o);var n={};if(!t.length)return n;var i=u.exec(r(u.aggregatesCombinator(t)),n,e);return u.expandAggregates(i)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(2),i=t(1),u=t(17),o=t(18);r.compileFilter=function(e){return e&&0!==e.filters.length?o.transformCompositeFilter(e):function(){return!0}},r.filterBy=function(e,t){return!n.isPresent(t)||i.isCompositeFilterDescriptor(t)&&0===t.filters.length?e:e.filter(r.compileFilter(u.normalizeFilters(t)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(1),u=function(e){(e.filters||[]).forEach(function(e){var t;!i.isCompositeFilterDescriptor(e)&&n.isString(e.operator)&&(e.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(t=e.operator).toLowerCase()]||t),i.isCompositeFilterDescriptor(e)&&u(e)})};t.normalizeFilters=function(e){var t;return n.isPresent(e)&&(t=e,e=i.isCompositeFilterDescriptor(t)?t:{filters:n.isArray(t)?t:[t],logic:"and"},u(e)),e}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(1),a=t(9),s=t(2),i={or:{concat:function(t,r){return function(e){return t(e)||r(e)}},identity:function(){return!1}},and:{concat:function(t,r){return function(e){return t(e)&&r(e)}},identity:function(){return!0}}},c={contains:function(e,t){return 0<=(e||"").indexOf(t)},doesnotcontain:function(e,t){return-1===(e||"").indexOf(t)},doesnotendwith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)<0},doesnotstartwith:function(e,t){return-1===(e||"").lastIndexOf(t,0)},endswith:function(e,t){return 0<=(e||"").indexOf(t,(e||"").length-(t||"").length)},eq:function(e,t){return e===t},gt:function(e,t){return t<e},gte:function(e,t){return t<=e},isempty:function(e){return""===e},isnotempty:function(e){return""!==e},isnotnull:function(e){return s.isPresent(e)},isnull:function(e){return s.isBlank(e)},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},neq:function(e,t){return e!=t},startswith:function(e,t){return 0===(e||"").lastIndexOf(t,0)}},f=/^\/Date\((.*?)\)\/$/,u=function(e){var t=e.field,r=e.ignoreCase,n=e.value,i=e.operator;t=s.isPresent(t)?t:function(e){return e},r=!s.isPresent(r)||r;var u=function(r,e,t){if(!s.isPresent(e))return r;var n=r;if(s.isString(e)){var i=f.exec(e);i?e=new Date(+i[1]):t&&(n=function(e){var t=r(e);return"string"==typeof t?t.toLowerCase():t})}return s.isDate(e)?function(e){var t=n(e);return s.isDate(t)?t.getTime():t}:n}(s.isFunction(t)?t:a.getter(t,!0),n,r);n=function(e,t){if(null!=e&&s.isString(e)){var r=f.exec(e);if(r)return new Date(+r[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&s.isDate(e))return e.getTime();return e}(n,r);var o=s.isFunction(i)?i:c[i];return function(e){return o(u(e),n,r)}};r.transformCompositeFilter=function(e){var t=i[e.logic];return e.filters.filter(s.isPresent).map(function(e){return n.isCompositeFilterDescriptor(e)?r.transformCompositeFilter(e):u(e)}).reduce(t.concat,t.identity)}},function(e,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.sort=function(e,t,r,n){if(!(r-t<2)){var i=t+r>>>1;u.sort(e,t,i,n),u.sort(e,i,r,n),function(e,t,r,n,i){for(var u=r-t,o=n-r,a=[],s=0;s<u;s++)a.push(e[t+s]);for(var c=0,f=r,l=t;i(e[f],a[c])<0?(e[l++]=e[f++],o--):(e[l++]=a[c++],u--),0<o&&0<u;);for(;u;)e[l++]=a[c++],u--;for(;o;)e[l++]=e[f++],o--}(e,t,i,r,n)}}}])}}});